<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Moldova Pet & Farm Awards 2026</title>
</head>
<body>
    <h1>Moldova Pet & Farm Awards 2026</h1>
    <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é:</p>

    <button onclick="selectCategory('–î–æ–º–∞—à–Ω–∏–µ –ø–∏—Ç–æ–º—Ü—ã')">üê∂ –î–æ–º–∞—à–Ω–∏–µ –ø–∏—Ç–æ–º—Ü—ã</button>
    <button onclick="selectCategory('–§–µ—Ä–º–µ—Ä—Å–∫–∏–µ –∂–∏–≤–æ—Ç–Ω—ã–µ')">üêÑ –§–µ—Ä–º–µ—Ä—Å–∫–∏–µ –∂–∏–≤–æ—Ç–Ω—ã–µ</button>
    <button onclick="selectCategory('–≠–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏–µ')">üêæ –≠–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏–µ</button>
    <button onclick="selectCategory('–ì—Ä–∞–Ω-–ø—Ä–∏')">üëë –ì—Ä–∞–Ω-–ø—Ä–∏</button>
    <button onclick="selectCategory('–ü—Ä–∏–∑ –∑—Ä–∏—Ç–µ–ª—å—Å–∫–∏—Ö —Å–∏–º–ø–∞—Ç–∏–π')">‚ù§Ô∏è –ü—Ä–∏–∑ –∑—Ä–∏—Ç–µ–ª—å—Å–∫–∏—Ö —Å–∏–º–ø–∞—Ç–∏–π</button>

    <div id="upload-section" style="display:none; margin-top:20px;">
        <h2>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ –≤–∞—à–µ–≥–æ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ</h2>
        <form id="upload-form" enctype="multipart/form-data">
            <input type="file" id="photo" accept="image/*" required>
            <br><br>
            <button type="submit">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</button>
        </form>
        <p id="message"></p>
    </div>

    <script>
        let selectedCategory = "";
        let username = "–ê–Ω–æ–Ω–∏–º"; // –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å input, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

        function selectCategory(category) {
            selectedCategory = category;
            document.getElementById("upload-section").style.display = "block";
            alert("–í—ã –≤—ã–±—Ä–∞–ª–∏: " + category);
        }

        document.getElementById('upload-form').addEventListener('submit', function(e){
            e.preventDefault(); // –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            let fileInput = document.getElementById('photo');
            let file = fileInput.files[0];

            if(!file) return alert("–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª!");

            let formData = new FormData();
            formData.append('photo', file);
            formData.append('category', selectedCategory);
            formData.append('username', username);

            fetch('/upload', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if(data.status === 'ok'){
                    document.getElementById('message').innerText = "–§–æ—Ç–æ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ! ID: " + data.photo_id;
                    fileInput.value = "";
                } else {
                    document.getElementById('message').innerText = "–û—à–∏–±–∫–∞: " + data.message;
                }
            })
            .catch(err => {
                console.error(err);
                document.getElementById('message').innerText = "–û—à–∏–±–∫–∞ —Å–µ—Ç–∏.";
            });
        });
    </script>
</body>
</html>
