function generatePoints() {
    points = [];
    const TOTAL_POINTS = 50;
    const COLORS = ['#00ff99', '#ffd700', '#ff5555', '#00aaff', '#cc66ff'];

    for (let i = 0; i < TOTAL_POINTS; i++) {
        // случайная точка вокруг baseLat/baseLng
        const distMeters = 100 + Math.random() * 3400; // для мощности
        const distDeg = distMeters / 111320;
        const angle = Math.random() * Math.PI * 2;
        const lat = baseLat + distDeg * Math.cos(angle);
        const lng = baseLng + distDeg * Math.sin(angle);

        const marker = L.circleMarker([lat, lng], {
            radius: 6,
            color: COLORS[i % COLORS.length],
            fillOpacity: 0.9
        }).addTo(map);

        const point = {
            lat,
            lng,
            marker,
            collected: false,
            adsViewed: 0
        };

        // мощность зависит от случайного расстояния (можно оставить как есть)
        point.power = calculatePower(distMeters);

        // реклама зависит **от реального расстояния до игрока**
        const realDist = distance(playerLat, playerLng, lat, lng); // в метрах
        point.adsRequired = Math.ceil(realDist / 100); // 100м = 1 реклама, 101-200м = 2

        console.log(`Точка ${i + 1}: дистанция = ${realDist.toFixed(1)} м, рекламы = ${point.adsRequired}, мощность = ${point.power}`);

        points.push(point);

        marker.on('click', () => openPointModal(point));
    }
}
