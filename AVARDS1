// Лента голосования с ❤️ и счётчиком
function loadVoteFeed(categoryFilter = "") {
    let url = categoryFilter ? '/photos/' + encodeURIComponent(categoryFilter) : '/photos';
    fetch(url)
    .then(res => res.json())
    .then(data => {
        let feed = document.getElementById('vote-feed');
        feed.innerHTML = "";
        data.forEach(photo => {
            let div = document.createElement('div');
            div.className = 'vote-item';
            let img = document.createElement('img');
            img.src = '/static/uploads/' + photo.filename;
            div.appendChild(img);

            // Кнопка голосования ❤️
            let btnDiv = document.createElement('div');
            btnDiv.className = 'vote-buttons';
            let upBtn = document.createElement('button');
            upBtn.innerText = '❤️';
            
            // Счётчик голосов
            let counter = document.createElement('span');
            counter.innerText = '0';
            counter.style.marginLeft = '10px';
            
            btnDiv.appendChild(upBtn);
            btnDiv.appendChild(counter);
            div.appendChild(btnDiv);

            // Обработка голосов
            upBtn.onclick = () => {
                counter.innerText = parseInt(counter.innerText) + 1;
            };

            feed.appendChild(div);
        });
    })
    .catch(err => console.error('Ошибка загрузки голосования:', err));
}
